---
layout: post
title: "Git на мінімалках"
date: 2025-09-23 10:00:01
categories: [queue]
permalink: posts/2025-09-23/git-minimal/
published: true
---

<!-- TOC BEGIN -->
- [1. Створення віддаленого Git  репозиторію на одному комп'ютері](#p1)
- [2. Створення віддаленого Git  репозиторію на іншому комп'ютері](#p2)


<!-- TOC END-->

## <a name="p1">1. Створення віддаленого Git  репозиторію на одному комп'ютері. </a>

Зацікавило питання як на своєму комп'ютері  налаштувати локальний і віддалений репозиторії (типу резервний зробити). Ну, не завжди хочеться засмічувати GitHub  якимись тестами своїми. З іншого боку, хочеться використати звичні інструменти для архівування та відгалужування коду.  

 
**Налаштування віддаленого репозиторія на локальній машині**
 
1. Створення bare repository: 

Створення нової папку, наприклад, my_project.git, і перейти у неї в терміналі.
 
```bash
$ mkdir /path/to/my_project.git
$ cd /path/to/my_project.git
$ git init --bare
```
Bare repository відрізняється від звичайного тим, що він не має робочої директорії з файлами проєкту. Він містить лише внутрішні дані Git, такі як історія коммітів, гілки та теги (тобто, лише вміст папки .git). Такий репозиторій ідеально підходить для використання як "центральне сховище", з якого розробники будуть завантажувати й надсилати зміни.
Зазвичай такі репозиторії називають з суфіксом .git, щоб підкреслити їхню "бездротову" природу.
 
2. Створення локального репозиторію:

Створіть робочу папку для вашого проєкту. Якщо у вас вже є проєкт, просто перейдіть у його директорію.
 
 
```bash
$ mkdir /path/to/my_project
$ cd /path/to/my_project
$ git init
```
 
3. Прив'язка локального репозиторію до bare:

Тепер, коли у вас є локальний репозиторій, додайте ваш bare repository як віддалений. Зазвичай йому дають назву origin за замовчуванням.
 
 
```bash
$ git remote add origin /path/to/my_project.git
``` 

4. Перший push:

Додайте файли у свій локальний репозиторій, зробіть перший комміт, а потім надішліть (push) його у віддалений (bare) репозиторій.
 
 
```bash
$ touch README.md
$ git add README.md
$ git commit -m "Initial commit"
$ git push -u origin master
``` 
 
Тепер  можна працювати з локальним репозиторієм, робити комміти та періодично синхронізувати його з вашим "бекапом" за допомогою команд git push та git pull. Це дозволить  мати повну історію версій і локальний "бекап" без використання сторонніх сервісів.

## <a name="p2">2. Створення віддаленого Git  репозиторію на іншому комп'ютері</a>

А якщо bear  репозиторій розмістити на іншій машині. Як між ними організувати спілкування?
 
Для того, щоб це працювало,  потрібно налаштувати доступ по SSH між вашим комп'ютером (client) і машиною, де буде розміщено bare repository (server). 

1. На машині-сервері (server):

Створити користувача Git (наприклад, git), який буде керувати репозиторіями.
У домашній директорії цього користувача створити папку з вашим bare repository:
```bash 
$ mkdir my_project.git
$ cd my_project.git
$ git init --bare
```

2. На машині-клієнті (client):
 
Створити [пару SSH-ключів](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent). Публічний ключ (id_rsa.pub) потрібно скопіювати на сервер в файл ~/.ssh/authorized_keys користувача git.
Додати віддалений репозиторій до  локального проекту, використовуючи SSH-адресу:
 
```bash 
$ git remote add origin ssh://git@<IP_адреса_сервера>/path/to/my_project.git
```

3. Тепер можна надіслати (push)  зміни на сервер:
 
```bash 
$ git push origin master
``` 
 
Як для мене, то  прийнятне рішення для особистих проектів, що потребують локального бекапу та синхронізації між кількома пристроями.

 